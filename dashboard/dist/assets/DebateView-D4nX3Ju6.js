import{c as z,j as e,a as g,u as c,r as f,A as k,S as w}from"./index-khSP0IRw.js";import"./vendor-DDxydHEc.js";const p=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,m=z,D=(n,r)=>t=>{var a;if(r?.variants==null)return m(n,t?.class,t?.className);const{variants:u,defaultVariants:d}=r,h=Object.keys(u).map(i=>{const s=t?.[i],l=d?.[i];if(s===null)return null;const o=p(s)||p(l);return u[i][o]}),v=t&&Object.entries(t).reduce((i,s)=>{let[l,o]=s;return o===void 0||(i[l]=o),i},{}),j=r==null||(a=r.compoundVariants)===null||a===void 0?void 0:a.reduce((i,s)=>{let{class:l,className:o,...S}=s;return Object.entries(S).every(C=>{let[b,x]=C;return Array.isArray(x)?x.includes({...d,...v}[b]):{...d,...v}[b]===x})?[...i,l,o]:i},[]);return m(n,h,j,t?.class,t?.className)},N=D(["inline-flex items-center gap-1 rounded-full px-2 py-0.5","text-[11px] font-semibold leading-none transition-colors","border"],{variants:{variant:{default:"bg-[rgba(88,166,255,0.12)] border-[rgba(88,166,255,0.3)] text-[var(--primary)]",success:"bg-[rgba(63,185,80,0.12)] border-[rgba(63,185,80,0.3)] text-[var(--success)]",warning:"bg-[rgba(210,153,34,0.12)] border-[rgba(210,153,34,0.3)] text-[var(--warning)]",destructive:"bg-[rgba(248,81,73,0.12)] border-[rgba(248,81,73,0.3)] text-[var(--destructive)]",outline:"bg-transparent border-[var(--border)] text-[var(--muted-foreground)]",muted:"bg-[rgba(255,255,255,0.05)] border-[var(--border)] text-[var(--muted-foreground)]"}},defaultVariants:{variant:"default"}});function y({className:n,variant:r,...t}){return e.jsx("span",{"data-slot":"badge",className:g(N({variant:r}),n),...t})}function V(){const n=c(t=>t.debateState),r=c(t=>t.debateTopic);return e.jsxs("div",{style:{background:"var(--card)",border:"1px solid var(--border)",borderRadius:10,padding:"14px 16px",display:"flex",alignItems:"center",gap:10,flexShrink:0},children:[e.jsx("span",{style:{fontSize:22},children:"ðŸŒ»"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontSize:10,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.8px",color:"var(--muted-foreground)",marginBottom:2},children:"Debate"}),e.jsx("div",{style:{fontSize:13,fontWeight:600,color:"var(--foreground)",lineHeight:1.4},children:r??""})]}),n==="concluded"?e.jsx(y,{variant:"success",children:"ê²°ë¡  ë„ì¶œ"}):e.jsx(y,{variant:"default",children:"ì§„í–‰ ì¤‘"})]})}function T({className:n,...r}){return e.jsx("div",{"data-slot":"card",className:g("rounded-lg border border-[var(--border)] bg-[var(--card-bg)]",n),...r})}function R({className:n,...r}){return e.jsx("div",{"data-slot":"card-content",className:g("p-4 pt-0",n),...r})}const W=f.memo(function({agentId:r,opinion:t}){const a=k[r]??{emoji:"ðŸ¤–",name:r||"?"};return e.jsx(T,{style:{animation:"fadeIn 0.3s ease-out"},children:e.jsxs(R,{style:{padding:"12px 14px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:8},children:[e.jsx("span",{style:{fontSize:16},children:a.emoji}),e.jsx("span",{style:{fontSize:12,fontWeight:700,color:"var(--foreground)"},children:a.name})]}),e.jsx("div",{style:{fontSize:12,color:"var(--muted-foreground)",lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t})]})})});function I({round:n}){return e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:10},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10,fontSize:11,fontWeight:700,color:"var(--muted-foreground)",textTransform:"uppercase",letterSpacing:"0.6px"},children:[e.jsx("span",{children:n.label}),e.jsx("div",{style:{flex:1,height:1,background:"var(--border)",opacity:.5}})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:10},children:n.panelists.map((r,t)=>e.jsx(W,{agentId:r.agentId,opinion:r.opinion},`${r.agentId}-${t}`))})]})}function A(){const n=c(r=>r.debateConclusion);return n?e.jsxs("div",{style:{borderLeft:"3px solid var(--success)",background:"rgba(63, 185, 80, 0.06)",borderRadius:"0 8px 8px 0",padding:"14px 16px",display:"flex",flexDirection:"column",gap:8},children:[e.jsx("div",{style:{fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:"0.8px",color:"var(--success)"},children:"ðŸ† ê²°ë¡ "}),e.jsx("div",{style:{fontSize:13,color:"var(--foreground)",lineHeight:1.6,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:n})]}):null}function E(){const n=c(a=>a.debateState),r=c(a=>a.debateRounds),t=f.useRef(null);return f.useEffect(()=>{const a=t.current;a&&(a.scrollTop=a.scrollHeight)},[r,n]),n==="inactive"?e.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:10,color:"var(--muted-foreground)",textAlign:"center",padding:40},children:[e.jsx("span",{style:{fontSize:48,opacity:.4},children:"ðŸŒ»"}),e.jsx("span",{style:{fontSize:14,fontWeight:600},children:"ì§„í–‰ ì¤‘ì¸ í† ë¡ ì´ ì—†ìŠµë‹ˆë‹¤"}),e.jsx("span",{style:{fontSize:12,opacity:.6,maxWidth:280,lineHeight:1.5},children:"Midoriê°€ í† ë¡ ì„ ì‹œìž‘í•˜ë©´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤"})]}):e.jsx(w,{style:{flex:1},children:e.jsxs("div",{ref:t,style:{padding:"16px 20px",display:"flex",flexDirection:"column",gap:16},children:[e.jsx(V,{}),r.map((a,u)=>e.jsx(I,{round:a},u)),n==="concluded"&&e.jsx(A,{})]})})}export{E as DebateView};
